---
title: "Brexit Poll Analysis"
author: "natsuMishi"
date: "2024-01-03"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Brexit poll analysis - Part 1

### Overview

In June 2016, the United Kingdom (UK) held a referendum to determine whether the country would â€œRemainâ€ in the European Union (EU) or â€œLeaveâ€ the EU. This referendum is commonly known as Brexit. Although the media and others interpreted poll results as forecasting â€œRemainâ€ ( ğ‘\>0.5) , the actual proportion that voted â€œRemainâ€ was only 48.1% (ğ‘=0.481) and the UK thus voted to leave the EU. Pollsters in the UK were criticized for overestimating support for â€œRemainâ€.

### Important definitions

#### Data Import

Import theÂ `brexit_polls`Â polling data from the **dslabs** package and set options for the analysis:

```{r}
# suggested libraries and options
library(tidyverse)
options(digits = 3)

# load brexit_polls object
library(dslabs)
data(brexit_polls)
```

#### Final Brexit parameters

Define ğ‘=0.481 as the actual percent voting â€œRemainâ€ on the Brexit referendum and ğ‘‘=2ğ‘âˆ’1=âˆ’0.038 as the actual spread of the Brexit referendum with â€œRemainâ€ defined as the positive outcome:

```{r}
p <- 0.481    # official proportion voting "Remain"
d <- 2*p-1    # official spread
```

### Question 1: Expected value and standard error of a poll 

The final proportion of voters choosing â€œRemainâ€ was ğ‘=0.481 . Consider a poll with a sample of ğ‘=1500 voters.

What is the expected total number of voters in the sample choosing â€œRemainâ€?

```{r}
N <- 1500
N*p
```

What is the standard error of the total number of voters in the sample choosing â€œRemainâ€?

```{r}
sqrt(N*p*(1-p))
```

What is the expected value of ğ‘‹Ì‚ , the proportion of â€œRemainâ€ voters?

```{r}
p
```

What is the standard error of ğ‘‹Ì‚ , the proportion of â€œRemainâ€ voters?

```{r}
sqrt(p*(1-p)/N)
```

What is the expected value of ğ‘‘ , the spread between the proportion of â€œRemainâ€ voters and â€œLeaveâ€ voters?

```{r}
2*p-1
```

What is the standard error of ğ‘‘ , the spread between the proportion of â€œRemainâ€ voters and â€œLeaveâ€ voters?

```{r}
2*sqrt(p*(1-p)/N)
```

### Question 2: Actual Brexit poll estimates 

Load and inspect the brexit_polls dataset from dslabs, which contains actual polling data for the 6 months before the Brexit vote. Raw proportions of voters preferring â€œRemainâ€, â€œLeaveâ€, and â€œUndecidedâ€ are available (remain, leave, undecided) The spread is also available (spread), which is the difference in the raw proportion of voters choosing â€œRemainâ€ and the raw proportion choosing â€œLeaveâ€.

Calculate x_hat for each poll, the estimate of the proportion of voters choosing â€œRemainâ€ on the referendum day ( ğ‘=0.481 ), given the observed spread and the relationship ğ‘‘Ì‚ =2ğ‘‹Ì‚ âˆ’1 . Use mutate() to add a variable x_hat to the brexit_polls object by filling in the skeleton code below:

What is the average of the observed spreads (spread)?

```{r}

```

What is the standard deviation of the observed spreads?

```{r}

```

What is the average of x_hat, the estimates of the parameter

```{r}

```

What is the standard deviation of x_hat?

```{r}

```
